---
title: JupyterLab Collab MCP
description: An MCP server for real-time Jupyter notebook collaboration. Changes sync instantly — no reloading.
---

import { Steps, Aside } from "@astrojs/starlight/components";

An MCP server that lets AI assistants read, edit, and execute Jupyter notebooks with real-time collaboration. Changes appear instantly in your browser — no reloading. The server sees where your cursor is and won't touch the cell you're editing.

{/* TODO: Add demo GIF here */}
{/* <img src="/demo.gif" alt="Demo of Claude Code editing a notebook in real-time" /> */}

## Install

<Steps>

1. **Register the MCP server** — pick one option:

   ```bash
   # With npx (recommended) — requires Node.js 18+
   claude mcp add -s user jupyter -- npx jupyterlab-collab-mcp

   # With uvx (no Node.js required)
   claude mcp add -s user jupyter -- uvx deno -A npm:jupyterlab-collab-mcp
   ```

   The `-s user` flag makes it available across all projects.

2. **Start JupyterLab** with [jupyter-collaboration](https://github.com/jupyterlab/jupyter-collaboration) enabled:

   ```bash
   # Easiest — auto-installs jupyter-collaboration + useful extensions
   uv tool install jlabx
   jlabx

   # Or if you already have jupyter-collaboration installed
   jupyter lab
   ```

   See the [`jlabx` docs](https://github.com/ianhi/jlabx) for configuration and environment detection.

3. **Connect from Claude Code** — paste the URL from JupyterLab's terminal output:

   > Connect to http://localhost:8888/lab?token=abc123

</Steps>

<Aside type="tip">
  **From source (development):** `git clone`, `npm install && npm run build`, then register with `claude mcp add -s user jupyter -- node $PWD/dist/index.js`. See the [repo](https://github.com/ianhi/jupyterlab-collab-mcp) for details.
</Aside>

## What's special

- **Real-time sync** — edits appear instantly in JupyterLab via y-websocket, and vice versa
- **53 MCP tools** — read, edit, execute, search, diff, tag, lock, snapshot, and more
- **Cell ID addressing** — stable references that survive insertions and deletions
- **Multi-agent ready** — cell locking, change tracking, named snapshots, and per-agent attribution
- **Context-efficient** — filter by cell type, skip outputs, limit images to keep Claude focused
- **No extension needed** — uses JupyterLab's built-in `jupyter-collaboration` system

## How it works

```
Claude Code  ←—stdio—→  MCP Server  ←—y-websocket—→  JupyterLab
```

The MCP server connects to JupyterLab's existing real-time collaboration system using the same protocol the browser frontend uses. No custom server extensions required.

### Dual mode

Most tools work in two modes automatically:

- **Jupyter mode** — Connect via `connect_jupyter` for real-time sync and kernel execution. Changes appear instantly in the browser.
- **Filesystem mode** — Read and write `.ipynb` files directly without JupyterLab running. No kernel operations, but useful for offline editing.

You don't need to choose — if you're connected, tools use Jupyter mode. Otherwise they fall back to filesystem mode.

## First steps

Once connected, try:

- _"Read the notebook analysis.ipynb"_ — uses `get_notebook_content`
- _"Run cell 3"_ — uses `execute_cell`
- _"Add a cell that imports pandas"_ — uses `insert_cell`
- _"Search for any cells with errors"_ — uses `search_notebook`

See the [Tool Reference](/tools/) for the full list of 53 tools.

## For agents, by agents

The real users of an MCP server aren't humans — they're AI agents. So this project was built by having agents use it and report back what was broken or missing. Over four rounds of increasingly complex multi-agent testing (up to 6 agents on 4 notebooks simultaneously), every collaboration feature — cell IDs, locking, change tracking, snapshots — was driven by agent feedback. Read the [full story](/dogfooding/).

If you're building agent workflows, see the [agent best practices](/agents/best-practices/) and [multi-agent coordination patterns](/agents/multi-agent/).

## Development

```bash
# Test RTC connection without restarting Claude Code
JUPYTER_TOKEN=xxx npx tsx src/test.ts

# Build the MCP server
npm run build

# Watch mode (auto-rebuild on changes)
npm run watch

# Run tests
npm test
```

<Aside type="caution">
  After `npm run build`, you must **restart Claude Code** for tool schema
  changes to take effect. The MCP server process caches tool definitions at
  startup.
</Aside>
